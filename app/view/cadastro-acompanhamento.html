<div ng-controller="cadastroAcompanhamentoCtrl" class="clientePage">

  <h2> Cadastrar acompanhamento </h2>

  <form name="acompanhamentoForm" class="form-horizontal" role="form">

    <div class="form-group">
      <div class="col-sm-12">
        <input name="modelo" ng-model-options="{updateOn: 'default blur'}" class="form-control" placeholder="Modelo" ng-model="acompanhamento.modelo" type="text" required="true">
          <span ng-show="acompanhamentoForm.modelo.$dirty && acompanhamentoForm.modelo.$error.required" style="color: red">O campo modelo deve ser preenchido</span>
        </input>
        <input name="placa" ng-model-options="{updateOn: 'default blur'}" class="form-control" placeholder="Placa" ng-model="acompanhamento.placa" type="text" required="true" ng-pattern="/^[A-Z]{3}[0-9]{4}$/">
          <span ng-show="acompanhamentoForm.placa.$dirty && acompanhamentoForm.placa.$error.required" style="color: red">O campo placa deve ser preenchido</span>
          <span ng-show="acompanhamentoForm.placa.$invalid && acompanhamentoForm.placa.$dirty && !acompanhamentoForm.placa.$error.required" style="color: red">A placa deve ser no formato AAAA0000</span>
        </input>

        <autocomplete autocompleteRequired="true" ng-model="cliente" data="clientes" on-select="selecionarCliente">

        </autocomplete>
      </div>
      <div class="col-sm-4">
        <input class="form-control" type="date" name="input" ng-model="acompanhamento.dataCompra"
            placeholder="Data" />
        </input>
      </div>
      <div class="form-group col-sm-8">
          <label ng-repeat="periodo in periodos">
              <ul>
                <input type="checkbox" data-checklist-model="acompanhamento.periodos" data-checklist-value="periodo">
                  {{periodo}} meses
                </input>
              </ul>
          </label>
      </div>
    </div>
  </form>

  <div class="actions">
    <a ng-click="cancelar()">Cancelar</a>
    <button class="btn btn-primary" type="button" ng-click="cadastrarAcompanhamento(acompanhamento)">Cadastrar</button>
  </div>

  </form>
</div>
